---
import { getCollection, render } from "astro:content";
import { getSortedPublishedPosts, getFilteredPosts } from "@/utils/posts";

import Layout from "@/layouts/Layout.astro";
import ListPosts from "@/components/ListPosts.astro";

const allPosts = await getCollection("posts");
const allEssays = getFilteredPosts(allPosts, { category: "essays" });
const filteredEssays = getSortedPublishedPosts(allEssays);
---

<Layout title="Essays">
  <h1>Essays</h1>
  <ListPosts posts={filteredEssays} />
</Layout>
